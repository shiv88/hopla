RC51 COMPILER V03.03.37,  MAIN                   02/26/11  15:33:43  PAGE  1

QCW(0x0002AE52)

DOS RC51 COMPILER V03.03.37, COMPILATION OF MODULE MAIN      
OBJECT MODULE PLACED IN C:\Documents and Settings\ib\My Documents\RemoterApplications\HOPLA\Compile\Main.obj
COMPILER INVOKED BY: OJ(C:\Documents and Settings\ib\My Documents\RemoterApplications\HOPLA\Compile\Main.obj) PIN(c:\RIDE\Inc;C:\DOC
            -UME~1\ib\LOCALS~1\Temp\RemoterTemp\SysPlc\;C:\DOCUME~1\ib\LOCALS~1\Temp\RemoterTemp\Fb\) PR(C:\Documents and Settings\i
            -b\My Documents\RemoterApplications\HOPLA\Compile\List\Main.lst) LA FP(IEEE,FP251) NOGENERIC NOAM NOEXTEND CD NOINTVECTO
            -R SB OE(2) IP PL(80) PW(132) MAXWAR(50) IS SIGNEDCHAR 

stmt level    source
   1          
   2          
   3          #include <C:\Program Files\Elsist\Remoter\Lib\Raisonance\Sfr043b300\ElSystemLib.h>
   4          #include <C:\Program Files\Elsist\Remoter\Lib\Raisonance\Sfr036e000\ElPLCLib.h>
   5          
   6          #include <stdio.h>
   7          
   8          extern void PLC_L_ElPLCLib(void);
   9          extern void PLC_L_RilFile(void);
  10          extern PLCRTCDATA PLCRtcData;
  11          extern unsigned char PLCMemoryLogicInputs[];
  12          extern unsigned char PLCMemoryLogicOutputs[];
  13          extern unsigned char PLCMemoryFlags[];
  14          
  15          static BACKUPFUNSTRUCT PLCUserBackupInfo={
  16              (void*)0x0580, //Source data address
  17              16, //Number of double words to backup
  18              0, //Backup Memory Type
  19              0x00005200L, //Backup memory address
  20          };
  21          
  22          code PLCREMOTERPROJECTINFO PLCRemoterProjectInfo = {
  23                                   26,
  24                                   2,
  25                                   11,
  26                                   15,
  27                                   33,
  28                                   40,
  29                                   29,
  30                                   8,
  31                                   2,
  32                                   2,
  33                                   "HOPLA",
  34                                   0x5000, 256,
  35                                   0x5100, 256,
  36                                   0x0000, 1472,
  37                                   };
  38          
  39          
  40          void Main(void);
  41          
  42          void Main(void)
  43          {
  44   1          if(((*(unsigned long*)&SystemConfig) & 0x00020000) == 0)
  45   1          {
  46   2              ACC = (unsigned char)&PLCRemoterProjectInfo;
  47   2      
  48   2              PLCRtcDataPtr = &PLCRtcData;
  49   2      
  50   2              SfrPLC_StartUp();
  51   2      
  52   2              SfrPLC_ProgramRestore(&PLCUserBackupInfo);
  53   2          }
  54   1      
  55   1          while(1)
  56   1          {
  57   2              SfrPLC_ProgramBackup(&PLCUserBackupInfo);
  58   2      
  59   2              SfrPLC_ProgramBegin();
  60   2      
  61   2              SfrPLC_InputAcq(0x0000, 0x0000, 0x0000);
  62   2              SfrPLC_InputAcq(0x0000, 0x0001, 0x0008);
  63   2              SfrPLC_InputAcq(0x0000, 0x0002, 0x0010);
  64   2      
  65   2              SfrPLC_RTClock();
  66   2      
  67   2              PLC_L_ElPLCLib();
  68   2              PLC_L_RilFile();
  69   2      
RC51 COMPILER V03.03.37,  MAIN                   02/26/11  15:33:43  PAGE  2

  70   2              SfrPLC_OutputMng(0x0000, 0x0000, 0x0000);
  71   2      
  72   2              SfrPLC_ProgramEnd();
  73   2      
  74   2              if(((*(unsigned long*)&SystemConfig) & 0x00010000) != 0)
  75   2                  return;
  76   2          }
  77   1      }
  78          //[End of File]
  79          
RC51 COMPILER V03.03.37,  MAIN                   02/26/11  15:33:43  PAGE  3

ASSEMBLY LISTING OF GENERATED OBJECT CODE

            ; FUNCTION Main (BEGIN)
                                           ; SOURCE LINE # 44 
0000 900000  R      MOV    DPTR,#SystemConfig+01H
0003 E0             MOVX   A,@DPTR
0004 20E117         JB     ACC.1,?WHILE1
                                           ; SOURCE LINE # 46 
0007 75E000  R      MOV    ACC,#LOW (PLCRemoterProjectInfo) 
                                           ; SOURCE LINE # 48 
000A 900000  R      MOV    DPTR,#PLCRtcDataPtr
000D 7400    R      MOV    A,#HIGH (PLCRtcData) 
000F F0             MOVX   @DPTR,A
0010 A3             INC    DPTR
0011 7400    R      MOV    A,#LOW (PLCRtcData) 
0013 F0             MOVX   @DPTR,A
                                           ; SOURCE LINE # 50 
0014 120000  R      LCALL  SfrPLC_StartUp
                                           ; SOURCE LINE # 52 
0017 7F00    R      MOV    R7,#LOW (PLCUserBackupInfo) 
0019 7E00    R      MOV    R6,#HIGH (PLCUserBackupInfo) 
001B 120000  R      LCALL  _SfrPLC_ProgramRestore
001E         ?WHILE1:
                                           ; SOURCE LINE # 57 
001E 7F00    R      MOV    R7,#LOW (PLCUserBackupInfo) 
0020 7E00    R      MOV    R6,#HIGH (PLCUserBackupInfo) 
0022 120000  R      LCALL  _SfrPLC_ProgramBackup
                                           ; SOURCE LINE # 59 
0025 120000  R      LCALL  SfrPLC_ProgramBegin
                                           ; SOURCE LINE # 61 
0028 E4             CLR    A
0029 FB             MOV    R3,A
002A FF             MOV    R7,A
002B FD             MOV    R5,A
002C 120000  R      LCALL  ?SfrPLC_InputAcq
                                           ; SOURCE LINE # 62 
002F E4             CLR    A
0030 FF             MOV    R7,A
0031 7D01           MOV    R5,#001H
0033 7B08           MOV    R3,#008H
0035 120000  R      LCALL  ?SfrPLC_InputAcq
                                           ; SOURCE LINE # 63 
0038 E4             CLR    A
0039 FF             MOV    R7,A
003A 7D02           MOV    R5,#002H
003C 7B10           MOV    R3,#010H
003E 120000  R      LCALL  ?SfrPLC_InputAcq
                                           ; SOURCE LINE # 65 
0041 120000  R      LCALL  SfrPLC_RTClock
                                           ; SOURCE LINE # 67 
0044 120000  R      LCALL  PLC_L_ElPLCLib
                                           ; SOURCE LINE # 68 
0047 120000  R      LCALL  PLC_L_RilFile
                                           ; SOURCE LINE # 70 
004A E4             CLR    A
004B FB             MOV    R3,A
004C FF             MOV    R7,A
004D FD             MOV    R5,A
004E 120000  R      LCALL  ?SfrPLC_OutputMng
                                           ; SOURCE LINE # 72 
0051 120000  R      LCALL  SfrPLC_ProgramEnd
                                           ; SOURCE LINE # 74 
0054 900000  R      MOV    DPTR,#SystemConfig+01H
0057 E0             MOVX   A,@DPTR
0058 30E0C3         JNB    ACC.0,?WHILE1
                                           ; SOURCE LINE # 77 
005B 22             RET    

            ; FUNCTION Main (END)

RC51 COMPILER V03.03.37,  MAIN                   02/26/11  15:33:43  PAGE  4

NAME                                    CLASS   MSPACE  TYPE    OFFSET  SIZE
====                                    =====   ======  ====    ======  ====

PLCUserBackupInfo. . . . . . . . . . .  STATIC  XDATA   STRUCT  0000H   9    
PLCRemoterProjectInfo. . . . . . . . .  PUBLIC  CODE    STRUCT  0000H   45   
Main . . . . . . . . . . . . . . . . .  PUBLIC  CODE    PROC    -----   -----
SystemConfig . . . . . . . . . . . . .  EXTERN  XDATA   STRUCT  -----   -----
PLCRtcDataPtr. . . . . . . . . . . . .  EXTERN  XDATA   PTR     -----   -----
PLCRtcData . . . . . . . . . . . . . .  EXTERN  XDATA   STRUCT  -----   -----
SfrPLC_StartUp . . . . . . . . . . . .  EXTERN  CODE    PROC    -----   -----
SfrPLC_ProgramRestore. . . . . . . . .  EXTERN  CODE    PROC    -----   -----
SfrPLC_ProgramBackup . . . . . . . . .  EXTERN  CODE    PROC    -----   -----
SfrPLC_ProgramBegin. . . . . . . . . .  EXTERN  CODE    PROC    -----   -----
SfrPLC_InputAcq. . . . . . . . . . . .  EXTERN  CODE    PROC    -----   -----
SfrPLC_RTClock . . . . . . . . . . . .  EXTERN  CODE    PROC    -----   -----
PLC_L_ElPLCLib . . . . . . . . . . . .  EXTERN  CODE    PROC    -----   -----
PLC_L_RilFile. . . . . . . . . . . . .  EXTERN  CODE    PROC    -----   -----
SfrPLC_OutputMng . . . . . . . . . . .  EXTERN  CODE    PROC    -----   -----
SfrPLC_ProgramEnd. . . . . . . . . . .  EXTERN  CODE    PROC    -----   -----
RC51 COMPILER V03.03.37,  MAIN                   02/26/11  15:33:43  PAGE  5



MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =     92    ----
   CONSTANT SIZE    =     45    ----
   XDATA SIZE       =      9    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.

RC51 COMPILATION COMPLETE.  0 WARNING,  0 ERROR
